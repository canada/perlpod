=head1 名前

Net::POP3 - POP3(Post Office Protocol 3)クライアントクラス (RFC1939) 

=head1 概要

    use Net::POP3;

    # コンストラクタ
    $pop = Net::POP3->new('pop3host');
    $pop = Net::POP3->new('pop3host', Timeout => 60);

=head1 説明

このモジュールは、POP3プロトコルへのクライアントインタフェースを実装し、
Perl5アプリケーションがPOP3サーバーと通信することを可能にします。
このドキュメントは、読者がRFC1939で記述されているPOP3プロトコルの概念に
精通しているものとします。

新しいNet::POP3オブジェクトはI<new>メソッドによって作られなければなりません。
一度作成すれば、このオブジェクトを通して全てのPOP3コマンドにアクセスすることが
できます。

=head1 使用例

    ここに、いくつか小さな使用例が必要 :-)

=head1 コンストラクタ

=over 4

=item new ( [ HOST, ] [ OPTIONS ] )

新しい Net::POP3 オブジェクトのコンストラクタです。C<HOST>は
POP3接続に必要とされるリモートホストの名前です。

C<HOST>が指定されなかった場合、C<Net::Config>で指定された
C<POP_Host>が使われます。

C<OPTIONS>はキーと値の組を使ってハッシュのような形式で渡されます。
指定できるオプションは以下の通りです: 

B<ResvPort> - 与えられると、C<Net::POP3>オブジェクトのためのソケットは
ソケットが作成されたときC<bind>を使って与えられたローカルポートに
結び付けられます。

B<Timeout> - POP3サーバーからの応答を待つ最大時間を秒単位で
指定します(デフォルト: 120) 

B<Debug> - デバッグ情報を利用できるようにします

=back

=head1 メソッド

特に記述がなければ、全てのメソッドはI<true>またはI<false>を返します。
I<true>が処理が成功したことを意味します。メソッドが値を返すと
宣言しているときには、失敗ではI<undef>または空リストを返します。

=over 4

=item user ( USER )

USER コマンドを送信します。 

=item pass ( PASS )

PASS コマンドを送信します。メールボックスの中のメッセージ数を返します。 

=item login ( [ USER [, PASS ]] )

USER、PASSコマンドの両方を送信します。もしC<PASS>が指定されなければ、
C<Net::POP3>はC<Net::Netrc>を使って、使用中のホスト名、ユーザ名を使って
パスワードを検索します。
もしusernameが指定されなければ、現在のユーザー名が使用されます。

メールボックスのなかのメッセージ数を返します。しかしサーバーにメッセージが
何もなければ文字列C<"0E0">を返します。これはブール値コンテキストでは
trueになりますが、数値コンテキストでは0です。

指定したユーザがサーバーで認証できなければ、I<undef>が返されます。

=item apop ( [ USER [, PASS ]] )

サーバーでパスワードC<PASS>を持ったC<USER>で認証を行います。
L</login>と似ていますが、パスワードはクリアなテキストで送信されません。

このメソッドを使うためには、Digest::MD5 か MD5 モジュールがインストール
しておかなければなりません。そうでなければ、このメソッドはI<undef>を返します。

=item top ( MSGNUM [, NUMLINES ] )

ヘッダおよびボディの先頭からC<NUMLINES>行目以降のC<MSGNUM>行を取得します。
サーバーから読みこんだテキスト行が入った配列へのリファレンスを返します。

=item list ( [ MSGNUM ] )

引数が指定されると、C<list>は、そのメッセージの大きさをオクテット数で返します。

引数を指定しなければ、ハッシュへのリファレンスを返します。
キーは削除されていない全てのメッセージ番号(C<MSGNUM>)、
値はその大きさのオクテット数になります。

=item get ( MSGNUM [, FH ] )

リモート・メールボックスから指定されたメッセージ番号C<MSGNUM>のメッセージを
取得します。サーバーから読みこんだテキスト行が入った配列へのリファレンスを
返します。 もしC<FH>が与えられると、サーバーから返された行はファイルハンドル
C<FH>に出力されます。

=item getfh ( MSGNUM )

get()と同様。ただし結び付けられたファイルハンドルを返します。
このファイルハンドルから読み込むとリクエストされたメッセージを
返します。メッセージの終わりでファイルハンドルはEOFを返します。
そして再利用するべきではありません。

=item last ()

アクセスされたメッセージのなかで一番大きなメッセージ番号(C<MSGNUM>)を返します。 

=item popstat ()

2つの要素を持った配列を返します。それらは削除されていないメッセージ数と
メールボックスの大きさのオクテット数になります。 

=item ping ( USER )

2つの要素を持った配列を返します。それらは新しいメッセージの数と
C<USER>のためのメッセージの合計数になります。 

=item uidl ( [ MSGNUM ] )

指定されたC<MSGNUM>のためのユニークな識別子を返します。C<MSGNUM>が
指定されなければ、C<uidl>はキーがメッセージ番号、値がユニークな識別子
というハッシュへのリファレンスを返します。

=item delete ( MSGNUM )

C<MSGNUM>のメッセージがリモートメールボックスから削除されるように印をつけます。
サーバーとの接続が切れるとき、印をつけられた全てのメッセージは
リモートメールボックスから削除されます。 

=item reset ()

リモートPOP3サーバーのステータスをリセットします。
これにはすべてのメッセージが削除されないよう状態をリセットすることも含みます。 

=item quit ()

リモートPOP3サーバーとの接続を切断し終了します。
削除されるように印がつけられたメッセージはすべてリモートメールボックスから
削除されます。 

=back

=head1 注意

C<Net::POP3>オブジェクトがC<quit>メソッドが呼ばれる前に
スコープから外れると、接続が切られる前にC<reset>が呼び出されます。
これは削除されるように印がつけられたメッセージが削除されないことを
意味します。

=head1 参考資料

L<Net::Netrc>,
L<Net::Cmd>

=head1 作者

Graham Barr <gbarr@pobox.com>

=head1 著作権(COPYRIGHT)

Copyright (c) 1995-1997 Graham Barr. All rights reserved.
This program is free software; you can redistribute it and/or modify
it under the same terms as Perl itself.

=for html <hr>

I<$Id: POP3.pod,v 1.1 2002-10-07 13:39:39 hippo2000 Exp $>

